---
title: "Developping Data Products:<br/> Interactive Server Graph"
author: "PLI"
date: "Friday, January 23, 2015"
output:
  slidy_presentation:
    fig_height: 2.6
    fig_width: 6
---

## Presentations

This application is used to analyse the results of a monitoring script that runs on differents servers in a datacenter. You can find it here:

<http://coursera1.shinyapps.io/DDP-Project>.

The monitored values are plotted on the Y axis and colored by server names. The size of the dots were made proportionnal to the values to make them more visible as these points are more important for the analysis.

You can play around with the graph tuning parameters:

- the date range (to zoom in-out on the x axis), 
- the y axis limit (to zoom in-out on the y axis)
- the x axis tick

## ui.R
The complete code can be found here:

<http://github.com/coursera1/DDP-Project/blob/master/ui.R>

Here are the descriptions of the inputs and outputs:
```{r, eval=FALSE}
fileInput("serverZip", "Upload servers Zip file", multiple=FALSE, accept="application/zip"),
fileInput("eventsCsv", "Upload events csv file", multiple=FALSE, accept="text/csv"),
dateRangeInput("dateRange", "Select date range for graphs", start="2014-11-01"),
sliderInput("breaks", "X axis ticks", 0, 48, 6, 3, round=TRUE),
sliderInput("yLimit", "Y axis limit", 0, 10, 4, 1, round=TRUE)),
...
plotOutput("G1"),
h3("Server Values"),
dataTableOutput("serverValue"),
h3("Events"),
dataTableOutput("tEvents")
```

## server.R
The complete code can be found here:

<https://github.com/coursera1/DDP-Project/blob/master/server.R>

Here is the main plotting code:
```{r, eval=FALSE}
qplot(time, sec, data=fData, col=server, geom="point", alpha=0.7, size=sec, 
      main="Values for all servers", xlab="Time", ylab="Value (s)") +
        scale_x_datetime( breaks=xBr, labels = date_format("%d/%m %Hh")) +
        geom_hline(yintercept=1) +
        geom_vline(xintercept=as.numeric(fEvents$time)) +
        theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
        coord_cartesian(ylim = c(0, input$yLimit)) +
        theme(legend.position = "none")
```

## Screenshot example

<img  src='./figs/graph.png' />


